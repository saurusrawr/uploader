<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Saurus Hosting</title>
<style>
body { font-family: Arial, sans-serif; background: #f5f5f5; text-align: center; margin:0; padding:0; }
header { background:#0f172a; color:white; padding:20px; }
footer { background:#111827; color:white; padding:10px; position:fixed; bottom:0; width:100%; }
.dropzone { margin: 20px auto; padding: 20px; border: 2px dashed #0f172a; width: 50%; background: #fff; cursor: pointer; }
.dropzone.hover { background: #e0f7fa; }
#result { margin-top:20px; word-wrap: break-word; }
button { padding: 8px 15px; margin-top: 10px; cursor: pointer; }
</style>
</head>
<body>

<header>
<h1>Saurus Uploader</h1>
<p>Upload file ke saurus storage (max 200 MB)</p>
</header>

<div class="dropzone" id="dropzoneUpload">
  <p>Drag & Drop file di sini atau klik untuk pilih</p>
  <input type="file" id="fileInput">
  <br>
  <button id="uploadBtn">Upload</button>
</div>

<div id="result"></div>

<footer>
<p>&copy; 2026 Saurus Hosting</p>
</footer>

<script>
const dropzone = document.getElementById("dropzoneUpload");
const fileInput = document.getElementById("fileInput");
const uploadBtn = document.getElementById("uploadBtn");
const resultDiv = document.getElementById("result");

dropzone.addEventListener("click", () => fileInput.click());

dropzone.addEventListener("dragover", e => { e.preventDefault(); dropzone.classList.add("hover"); });
dropzone.addEventListener("dragleave", e => { e.preventDefault(); dropzone.classList.remove("hover"); });
dropzone.addEventListener("drop", e => {
  e.preventDefault();
  dropzone.classList.remove("hover");
  fileInput.files = e.dataTransfer.files;
});

uploadBtn.addEventListener("click", async () => {
  const file = fileInput.files[0];
  if(!file) return alert("Pilih file dulu bre");

  const reader = new FileReader();
  reader.onload = async () => {
    const base64 = reader.result;
    try {
      const res = await fetch("/api/tourl", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ file: base64 })
      });
      const data = await res.json();
      if(data.status){
        resultDiv.innerHTML = `<p>File berhasil diupload! URL: <a href="${data.url}" target="_blank">${data.url}</a></p>`;
      } else {
        resultDiv.innerHTML = `<p style="color:red;">${data.message}</p>`;
      }
    } catch(e){
      resultDiv.innerHTML = `<p style="color:red;">Gagal bre, mungkin kamu belum sigma</p>`;
    }
  };
  reader.readAsDataURL(file);
});
</script>

</body>
</html>
